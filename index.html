<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luc√≠a ‚Äì Asistente Virtual de Ram√≥n Delgado</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(to bottom, #e0f7fa, #b2ebf2);
            padding: 10px;
            margin: 0;
            text-align: center;
            font-size: 16px;
        }
        h2 { color: #006064; font-size: 24px; margin: 20px 0; font-weight: bold; }
        .chat {
            background: white;
            width: 100%;
            max-width: 520px;
            margin: 10px auto;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
            padding: 15px;
            height: 80vh;
            overflow-y: auto;
        }
        .msg {
            margin: 10px 5px;
            padding: 12px 15px;
            border-radius: 20px;
            max-width: 85%;
            line-height: 1.5;
            display: inline-block;
            word-wrap: break-word;
            font-size: 15px;
        }
        .bot {
            background: #e0f2f1;
            text-align: left;
            margin-right: auto;
            border-bottom-left-radius: 4px;
        }
        .tu {
            background: #ffcc80;
            text-align: right;
            margin-left: auto;
            border-bottom-right-radius: 4px;
        }
        .btn {
            padding: 15px;
            color: white;
            border: 2px solid black;
            border-radius: 14px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
            margin: 8px 0;
            width: 90%;
        }
        .btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.25);
        }
        .btn-si-no {
            color: black !important;
            background: #ff9800;
        }
        .btn-taller { background: #ff5722; }
        .btn-libros { background: #2196f3; }
        .btn-pago { background: #4caf50; }
        .btn-ramon { background: #9c27b0; }
        .btn-testimonios { background: #ff9800; }
        .btn-cuaderno { background: #4caf50; }
        .btn-anatomia { background: #2196f3; }
        .btn-presion { background: #f44336; }
        .btn-cuidador { background: #9c27b0; }
        .btn-madre { background: #e91e63; }
        .btn-primeros-auxilios { background: #ff5722; } /* Color rojo para primeros auxilios */
        .btn-lucia { background: #2196f3; font-size: 14px; padding: 10px; width: auto; margin-top: 20px; }
        .btn-pais {
            background: white;
            color: black;
            padding: 30px 15px;
            font-size: 20px;
        }
        .btn-pais img {
            width: 120px;
            height: auto;
            display: block;
            margin: 15px auto 0 auto;
        }
        .btn-volver { background: #e91e63; font-size: 16px; padding: 15px; }
        .flechas {
            text-align: center;
            font-size: 30px;
            color: #ff9800;
            margin: 15px 0;
            animation: bounce 2s infinite;
        }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        a { color: #1976d2; font-weight: bold; text-decoration: underline; }
        #name-container {
            margin: 20px 0;
            text-align: center;
        }
        #name-input {
            padding: 12px;
            font-size: 16px;
            width: 80%;
            max-width: 300px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        #next-button {
            padding: 12px 24px;
            font-size: 16px;
            background: #4caf50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 15px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 14px;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }
        th {
            background: #f0f0f0;
        }
    </style>
</head>
<body>
    <h2>¬°Bienvenidos! üåüü©πüìö</h2>
    <div class="chat" id="chat"></div>

    <script>
        const chat = document.getElementById('chat');
        let paisSeleccionado = '';
        let libroSeleccionado = '';
        let userName = localStorage.getItem('userName') || '';
        let visits = parseInt(localStorage.getItem('visits') || '0') + 1;
        let visitors = JSON.parse(localStorage.getItem('visitors') || '[]');
        localStorage.setItem('visits', visits);

        function agregarMensaje(tipo, texto) {
            const div = document.createElement('div');
            div.className = `msg ${tipo}`;
            div.innerHTML = texto.replace(/\n/g, '<br>');
            chat.appendChild(div);
            chat.scrollTop = chat.scrollHeight;
        }

        function boton(textoTu, htmlBtn, accion, clase = 'btn-normal') {
            const btn = document.createElement('button');
            btn.className = `btn ${clase}`;
            btn.innerHTML = htmlBtn;
            btn.onclick = () => {
                agregarMensaje('tu', textoTu);
                accion();
            };
            chat.appendChild(btn);
        }

        function botonSiNo(textoTu, htmlBtn, accion) {
            boton(textoTu, htmlBtn, accion, 'btn-si-no');
        }

        function botonVolver() {
            boton('VOLVER AL MEN√ö PRINCIPAL', 'VOLVER AL MEN√ö PRINCIPAL', () => location.reload(), 'btn-volver');
        }

        function guardarVisitante(nombre) {
            const now = new Date();
            const fechaHora = now.toLocaleString();
            visitors.push({ num: visits, nombre: nombre, fecha: fechaHora });
            if (visitors.length > 25) {
                visitors.shift();
            }
            localStorage.setItem('visitors', JSON.stringify(visitors));
        }

        // Nueva introducci√≥n
        agregarMensaje('bot', 'üëã Hola, soy Luc√≠a, la asistente virtual de Ram√≥n Delgado.<br><br>Estoy aqu√≠ para acompa√±arte y darte acceso en lo que est√°s buscando. Tendr√°s la informaci√≥n que necesitas para que tomes la decisi√≥n de ingresar al pr√≥ximo taller de Primeros Auxilios que tendremos, como tambi√©n acceso a una biblioteca de libros que le dar√°n mucho valor en lo profesional o tu vida familiar.<br><br>¬øCon quien tengo el gusto de conversar?');

        const nameContainer = document.createElement('div');
        nameContainer.id = 'name-container';
        const input = document.createElement('input');
        input.type = 'text';
        input.id = 'name-input';
        input.placeholder = 'Escribe tu nombre aqu√≠...';
        nameContainer.appendChild(input);

        const nextBtn = document.createElement('button');
        nextBtn.id = 'next-button';
        nextBtn.textContent = 'Siguiente ‚Üí';
        nextBtn.onclick = () => {
            if (input.value.trim()) {
                userName = input.value.trim();
                localStorage.setItem('userName', userName);
                guardarVisitante(userName);
                agregarMensaje('tu', userName);
                chat.removeChild(nameContainer);
                mostrarMenuPrincipal();
            } else {
                alert('Por favor escribe tu nombre para continuar üòä');
            }
        };
        nameContainer.appendChild(nextBtn);
        chat.appendChild(nameContainer);

        function mostrarMenuPrincipal() {
            agregarMensaje('bot', `¬°Perfecto, ${userName}! üòä Aqu√≠ puedes:\n‚Ä¢ Inscribirte al taller de primeros auxilios ü©π\n‚Ä¢ Comprar libros üìö\n‚Ä¢ Confirmar pago üí≥\n‚Ä¢ Ver testimonios ‚≠ê\n‚Ä¢ Hablar directamente con Ram√≥n Delgado üë§\n\nHaz click en el bot√≥n de tu preferencia<div class="flechas">‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è</div>`);
            boton('ü©π Taller de Primeros Auxilios', 'ü©π Taller de Primeros Auxilios', inicioTaller, 'btn-taller');
            boton('üìö Libros', 'üìö Libros', inicioLibros, 'btn-libros');
            boton('üí≥ Ya hice el pago', 'üí≥ Ya hice el pago', () => agregarMensaje('bot', 'Hola, si ya hiciste el pago, puedes hacer click aqui: <a href="https://wa.link/gatzff" target="_blank">https://wa.link/gatzff</a> . Recuerda que debes enviar el respectivo comprobante.'), 'btn-pago');
            boton('‚≠ê Testimonios', '‚≠ê Testimonios', mostrarTestimonios, 'btn-testimonios');
            boton('üë§ Hablar con Ram√≥n Delgado', 'üë§ Hablar con Ram√≥n Delgado', () => agregarMensaje('bot', 'Si tienes una pregunta y deseas hablar con Ram√≥n Delgado, solo haz click aqui: <a href="https://wa.link/8asywo" target="_blank">https://wa.link/8asywo</a>'), 'btn-ramon');
            boton('Luc√≠a', 'Luc√≠a', mostrarContador, 'btn-lucia');
        }

        function mostrarContador() {
            const adminCode = '561393';
            const enteredCode = prompt('Ingresa el c√≥digo para ver estad√≠sticas:');
            if (enteredCode === adminCode) {
                let tabla = '<table><tr><th>#</th><th>Nombre</th><th>Fecha y Hora</th></tr>';
                visitors.forEach(v => {
                    tabla += `<tr><td>${v.num}</td><td>${v.nombre}</td><td>${v.fecha}</td></tr>`;
                });
                tabla += '</table>';
                agregarMensaje('bot', `Visitas totales: ${visits}<br>${tabla}`);
            } else {
                agregarMensaje('bot', 'C√≥digo incorrecto. Solo para Ram√≥n.');
            }
            botonVolver();
        }

        function mostrarTestimonios() {
            setTimeout(() => {
                agregarMensaje('bot', 'Aqu√≠ tienes algunos testimonios de alumnos y lectores satisfechos:');
                agregarMensaje('bot', '<strong>Testimonio 1:</strong><br>‚Ä¢ <a href="#" target="_blank">Ver testimonio 1</a>');
                agregarMensaje('bot', '<strong>Testimonio 2:</strong><br>‚Ä¢ <a href="#" target="_blank">Ver testimonio 2</a>');
                agregarMensaje('bot', '<strong>Testimonio 3:</strong><br>‚Ä¢ <a href="#" target="_blank">Ver testimonio 3</a>');
                botonVolver();
            }, 800);
        }

        // === FLUJO TALLER DE PRIMEROS AUXILIOS (precio taller: 39 soles / 249 MXN / 49.000 COP / 11 USD) ===
        // (mismo de antes, sin cambios)

        // === FLUJO LIBROS ===
        function inicioLibros() {
            setTimeout(() => {
                agregarMensaje('bot', 'üìö Hola, qu√© gusto tenerte aqu√≠.<br><br>Veo que te interesa explorar nuestra biblioteca de libros.<br><br>T√≥mate todo el tiempo que necesites para revisarla con calma.<br><br>Encontrar√°s materiales en distintos temas que te ayudar√°n a crecer profesionalmente, fortalecer tus conocimientos y seguir avanzando en tu carrera.<br><br>Tambi√©n tenemos libros pensados para apoyarte en otras √°reas importantes de tu vida.<br><br>Si√©ntete libre de observar, descubrir y elegir lo que m√°s conecte contigo.<br><br>Para regalarte la informaci√≥n, dime en qu√© pa√≠s te encuentras?');
                boton('Per√∫', 'Per√∫<br><img src="https://flagcdn.com/w320/pe.png" alt="Bandera de Per√∫">', () => { paisSeleccionado = 'peru'; listaLibros(); }, 'btn-pais');
                boton('M√©xico', 'M√©xico<br><img src="https://flagcdn.com/w320/mx.png" alt="Bandera de M√©xico">', () => { paisSeleccionado = 'mexico'; listaLibros(); }, 'btn-pais');
                boton('Colombia', 'Colombia<br><img src="https://flagcdn.com/w320/co.png" alt="Bandera de Colombia">', () => { paisSeleccionado = 'colombia'; listaLibros(); }, 'btn-pais');
                boton('Venezuela', 'Venezuela<br><img src="https://flagcdn.com/w320/ve.png" alt="Bandera de Venezuela">', () => { paisSeleccionado = 'venezuela'; listaLibros(); }, 'btn-pais');
                boton('Otros pa√≠ses', 'Otros pa√≠ses<br><img src="https://flagcdn.com/w320/un.png" alt="Mundial">', () => { paisSeleccionado = 'otros'; listaLibros(); }, 'btn-pais');
                botonVolver();
            }, 800);
        }

        function listaLibros() {
            setTimeout(() => {
                agregarMensaje('bot', 'Estos son los libros disponibles:');
                boton('Cuaderno de Pr√°ctica de Enfermer√≠a', 'Cuaderno de Pr√°ctica de Enfermer√≠a', () => { libroSeleccionado = 'cuaderno'; detalleCuaderno(); }, 'btn-cuaderno');
                boton('Manual de Anatom√≠a Humana', 'Manual de Anatom√≠a Humana', () => { libroSeleccionado = 'anatomia'; detalleManualAnatomia(); }, 'btn-anatomia');
                boton('Adi√≥s Presi√≥n Alta', 'Adi√≥s Presi√≥n Alta', () => { libroSeleccionado = 'presion'; detalleAdiosPresionAlta(); }, 'btn-presion');
                boton('Convi√©rtete en el Cuidador de Adulto Mayor que Todos Quieren Contratar', 'Convi√©rtete en el Cuidador de Adulto Mayor que Todos Quieren Contratar', () => { libroSeleccionado = 'cuidador'; detalleCuidadorAdultoMayor(); }, 'btn-cuidador');
                boton('Donde Falt√≥ un Padre, Sobr√≥ una Madre Valiente', 'Donde Falt√≥ un Padre, Sobr√≥ una Madre Valiente', () => { libroSeleccionado = 'madre'; detalleMadreValiente(); }, 'btn-madre');
                boton('Manual de Primeros Auxilios', 'Manual de Primeros Auxilios', () => { libroSeleccionado = 'primeros'; detallePrimerosAuxilios(); }, 'btn-primeros-auxilios');
                botonVolver();
            }, 800);
        }

        // NUEVO LIBRO: Manual de Primeros Auxilios
        function detallePrimerosAuxilios() {
            setTimeout(() => {
                agregarMensaje('bot', 'En muchas oportunidades, hemos visto como personas han sufrido accidentes o enfermedades repentinas y hemos querido quiz√°s ayudar, pero no sentimos que estamos capacitados para hacerlo.<br><br>Solo imag√≠nate que esa persona sea un familiar tuyo o un amigo y por no saber qu√© hacer, puede terminar en un final no deseado.<br><br>En este e-book, aprender√°s a usar las t√©cnicas correctas para garantizarle la vida de esa persona mientras pueda ser atendida por un profesional de la medicina.');
                agregarMensaje('bot', '<strong>Mira el contenido del libro, abajo:</strong><br>‚Ä¢ <a href="https://drive.google.com/file/d/1GrPAXOObzIe6lMak2c9K1Z9hhMsoLJJU/view?usp=sharing" target="_blank">Ver portada</a><br>‚Ä¢ <a href="https://drive.google.com/file/d/1EM308XFgnHzM3lleAKW66pCeZjwTYZJE/view?usp=sharing" target="_blank">Ver temarios</a>');
                agregarMensaje('bot', '¬øTe interesa adquirir el Manual de Primeros Auxilios?');
                botonSiNo('S√≠', 'S√≠', mostrarPrecioPrimerosAuxilios);
                botonSiNo('No', 'No', listaLibros);
                botonVolver();
            }, 800);
        }

        function mostrarPrecioPrimerosAuxilios() {
            setTimeout(() => {
                let precio = '';
                if (paisSeleccionado === 'peru') precio = '30 soles';
                else if (paisSeleccionado === 'mexico') precio = '249 pesos mexicanos';
                else if (paisSeleccionado === 'colombia') precio = '49.000 pesos colombianos';
                else if (paisSeleccionado === 'venezuela') precio = '$11 USD (a tasa del BCV)';
                else precio = '$11 USD';
                agregarMensaje('bot', 'Muy bien, el costo del libro es de ' + precio + '.\n\n¬øLo va a obtener?');
                botonSiNo('S√≠', 'S√≠', mostrarPagoPrimerosAuxilios);
                botonSiNo('No', 'No', () => agregarMensaje('bot', 'No hay problema, seguiremos aqu√≠ por si cambias de decisi√≥n.'));
                botonVolver();
            }, 800);
        }

        function mostrarPagoPrimerosAuxilios() {
            setTimeout(() => {
                let entrega = (paisSeleccionado === 'otros') ? 'v√≠a correo electr√≥nico' : 'v√≠a WhatsApp';
                agregarMensaje('bot', 'El libro se te entregar√° ' + entrega + '.\n\nUna vez realizado el pago, ve al men√∫ principal y haz click en "Ya hice el pago".');
                if (paisSeleccionado === 'peru') {
                    agregarMensaje('bot', 'Puedes pagar mediante Yape o Plin a:\n\n*Ram√≥n Delgado*\n*N√∫mero: 931479063*\n*Monto: 30 soles*');
                } else if (paisSeleccionado === 'mexico') {
                    agregarMensaje('bot', 'Muy bien, en M√©xico tenemos dos m√©todos de pago, ¬øcu√°l prefiere?');
                    boton('Dep√≥sito por OXXO', 'Dep√≥sito por OXXO', () => {
                        agregarMensaje('bot', '*OXXO, por favor:*\n4741742975530315\nLuis Ibarra \nBanregio\nMonto: $249 pesos mexicanos\n\nNota1, por favor hacer la operaci√≥n antes de las 5:30pm, hora mexicana. Despu√©s de esa hora, no ser√° reconocida la transacci√≥n. Gracias.\n\nNota2: Una vez que haga la transacci√≥n, debe ubicar en el men√∫ principal el bot√≥n "Ya hice el pago" para regidirlo a una persona, que le tomara su caso, para finalizar su inscripci√≥n.');
                        botonVolver();
                    });
                    boton('Transferencia', 'Transferencia', () => {
                        agregarMensaje('bot', '*Solo Transferencia bancaria*: \n721180100038218691\nJhonatan Hern√°ndez \nBanco albo\nMonto: $249 pesos mexicanos\n\nNota 1: por favor que en el comprobante de pago, se vea la clave de rastreo. Gracias\nNota 2: De igual forma, env√≠ame tu nombre completo, CURP por escrito (se coloca en el certificado) y correo electr√≥nico\nNota 3: Se agradece hacer la transferencia, antes de las 5:30pm hora CDMX. Ya que la empresa que nos ayuda con ese tema, trabaja hasta esa hora. Gracias');
                        botonVolver();
                    });
                } else if (paisSeleccionado === 'colombia') {
                    agregarMensaje('bot', '¬°Genial! Puedes pagar a:\n\n*Bancolombia*\n*Cuenta de ahorro: 60900002477*\n*Joel Urdaneta*\n*Pasaporte: 5000848122*\n*Monto: $49.000 pesos colombianos*');
                } else if (paisSeleccionado === 'venezuela') {
                    agregarMensaje('bot', '¬°Genial! Puedes pagar por Pago M√≥vil a:\n\n*Yolanda Vera*\n*Telf: 04144521662*\n*CI: 3432065*\n*Banco: Banco Venezuela*\n*Monto: $11 USD (a tasa del BCV)*');
                } else {
                    agregarMensaje('bot', 'Puedes pagar de forma segura aqu√≠:\n<a href="https://pay.hotmart.com/I41413059V?checkoutMode=10" target="_blank">Pagar ahora en Hotmart</a>');
                }
                botonVolver();
            }, 800);
        }

        // Los otros libros mantienen sus precios y pagos anteriores (10 soles / 115 MXN etc.)

        // (El resto del c√≥digo: otros detalles de libros, pagos de otros libros, taller, etc., queda igual que antes)

    </script>
</body>
</html>
